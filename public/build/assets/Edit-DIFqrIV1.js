import{a as L,u as h,j as e,H,r as I}from"./app-Ooxm030u.js";import{A as $}from"./app-layout-Cw4kua6g.js";import{B as a}from"./button-CtdhVrbP.js";import{L as t,I as u}from"./label-CQ1zZs4N.js";import{C as b}from"./checkbox-BaTyL9Nz.js";import{Q as N}from"./QuillEditor-B3ZWS8MM.js";/* empty css            */import"./index-Co1mSlV1.js";import"./index-BP4ORZTm.js";import"./index-CK7ZAu-H.js";const z=[{title:"Dashboard",href:"/dashboard"},{title:"Pricing Tables",href:"/admin/pricing-tables"},{title:"Edit",href:"#"}];function V({table:i}){const[c,o]=L.useState(null),{data:y,setData:_,put:C,processing:f,errors:j}=h({title:i.title}),{data:m,setData:x,post:S,processing:v,errors:n,reset:D}=h({service_name:"",description:"",is_safety:!1}),{data:p,setData:l,put:E,processing:g,errors:d}=h({service_name:"",description:"",is_safety:!1}),k=s=>{s.preventDefault(),C(route("admin.pricing-tables.update",i.id))},T=s=>{s.preventDefault(),S(route("admin.pricing-tables.contents.store",i.id),{onSuccess:()=>D()})},w=s=>{o(s.id),l({service_name:s.service_name,description:s.description,is_safety:s.is_safety})},A=()=>{o(null)},F=s=>{s.preventDefault(),c&&E(route("admin.pricing-table-contents.update",c),{onSuccess:()=>o(null)})},P=s=>{confirm("Are you sure you want to delete this content?")&&I.delete(route("admin.pricing-table-contents.destroy",s))};return e.jsxs($,{breadcrumbs:z,children:[e.jsx(H,{title:`Edit Table: ${i.title}`}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:e.jsxs("div",{className:"relative w-full max-w-6xl mx-auto overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border bg-background p-8 space-y-8",children:[e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Table Settings"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(t,{children:"Table Title"}),e.jsx(u,{value:y.title,onChange:s=>_("title",s.target.value)}),j.title&&e.jsx("p",{className:"text-sm text-red-500",children:j.title})]}),e.jsx(a,{type:"submit",disabled:f,children:f?"Saving…":"Save Title"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Table Contents"}),i.contents.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No contents added yet."}):e.jsx("div",{className:"space-y-4",children:i.contents.map(s=>e.jsx("div",{className:"border rounded-lg p-4 bg-card",children:c===s.id?e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(t,{children:"Service Name"}),e.jsx(u,{value:p.service_name,onChange:r=>l("service_name",r.target.value)}),d.service_name&&e.jsx("p",{className:"text-sm text-red-500",children:d.service_name})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(t,{children:"Description"}),e.jsx(N,{value:p.description,onChange:r=>l("description",r)}),d.description&&e.jsx("p",{className:"text-sm text-red-500",children:d.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{id:`edit-safety-${s.id}`,checked:p.is_safety,onCheckedChange:r=>l("is_safety",!!r)}),e.jsx(t,{htmlFor:`edit-safety-${s.id}`,children:"Safety Feature"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{type:"submit",disabled:g,children:g?"Saving…":"Save"}),e.jsx(a,{type:"button",variant:"outline",onClick:A,children:"Cancel"})]})]}):e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:s.service_name}),e.jsx("div",{className:"prose prose-sm max-w-none mt-2 text-muted-foreground",dangerouslySetInnerHTML:{__html:s.description}}),s.is_safety&&e.jsx("span",{className:"inline-block mt-2 text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Safety ✓"})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(a,{variant:"outline",size:"sm",onClick:()=>w(s),children:"Edit"}),e.jsx(a,{variant:"destructive",size:"sm",onClick:()=>P(s.id),children:"Delete"})]})]})},s.id))})]}),e.jsxs("form",{onSubmit:T,className:"space-y-4 border-t pt-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Add New Content"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(t,{children:"Service Name"}),e.jsx(u,{value:m.service_name,onChange:s=>x("service_name",s.target.value),placeholder:"e.g., Customer Support"}),n.service_name&&e.jsx("p",{className:"text-sm text-red-500",children:n.service_name})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(t,{children:"Description"}),e.jsx(N,{value:m.description,onChange:s=>x("description",s)}),n.description&&e.jsx("p",{className:"text-sm text-red-500",children:n.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{id:"is_safety",checked:m.is_safety,onCheckedChange:s=>x("is_safety",!!s)}),e.jsx(t,{htmlFor:"is_safety",children:"Safety Feature"})]}),e.jsx(a,{type:"submit",disabled:v,children:v?"Adding…":"Add Content"})]})]})})]})}export{V as default};
