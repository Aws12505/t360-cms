import{u as v,j as e,H as b}from"./app-DXUsmjoZ.js";import{A as N}from"./app-layout-C8ZWiKiP.js";import{B as m}from"./button-zdwsRs9I.js";import{L as i,I as o}from"./label-DO7wJCG5.js";import{T as C}from"./textarea-CuMAfXW-.js";import{C as d}from"./checkbox-8eXnbES0.js";import{Q as h}from"./QuillEditor-DTnQWD4t.js";/* empty css            */import"./index-DRrdqaXg.js";import"./index-B3gRkO-U.js";import"./index-sfORdlzI.js";import"./quill.snow-BTA9ZSGD.js";const k=[{title:"Pricing Plans",href:"/admin/pricing-plans"},{title:"Edit",href:"#"}];function S({plan:r,allFeatures:n}){const x=Array.isArray(n)?n:[],g=Array.isArray(r.custom_features)?r.custom_features.map(t=>t.id):[],{data:l,setData:a,put:_,processing:u,errors:s}=v({name:r.name,total_value:r.total_value??"",per_text:r.per_text??"",description:r.description,features:r.features??"",is_customizable:r.is_customizable,is_best_value:r.is_best_value,order:r.order,feature_ids:g,button_link:r.button_link??"",button_text:r.button_text??"",highlighted_text:r.highlighted_text??"",button_bg_color:r.button_bg_color??"#3B82F6",total_value_bg_color:r.total_value_bg_color??"#F3F4F6"}),p=(t,c)=>{a("feature_ids",c?[...l.feature_ids,t]:l.feature_ids.filter(f=>f!==t))},j=t=>{t.preventDefault(),_(route("admin.pricing-plans.update",r.id))};return e.jsxs(N,{breadcrumbs:k,children:[e.jsx(b,{title:`Edit Plan: ${r.name}`}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:e.jsx("div",{className:"relative w-full max-w-4xl mx-auto overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border bg-background p-8",children:e.jsxs("form",{onSubmit:j,className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Plan Name"}),e.jsx(o,{value:l.name,onChange:t=>a("name",t.target.value)}),s.name&&e.jsx("p",{className:"text-sm text-red-500",children:s.name})]}),!l.is_customizable&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Total Value"}),e.jsx(o,{type:"number",step:"0.01",value:l.total_value,onChange:t=>a("total_value",t.target.value)}),s.total_value&&e.jsx("p",{className:"text-sm text-red-500",children:s.total_value})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Per Text"}),e.jsx(o,{value:l.per_text,onChange:t=>a("per_text",t.target.value),placeholder:"month / year / etc."}),s.per_text&&e.jsx("p",{className:"text-sm text-red-500",children:s.per_text})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Total Value Background Color"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(o,{type:"color",value:l.total_value_bg_color,onChange:t=>a("total_value_bg_color",t.target.value),className:"w-16 h-10 p-1 border rounded cursor-pointer"}),e.jsx(o,{type:"text",value:l.total_value_bg_color,onChange:t=>a("total_value_bg_color",t.target.value),placeholder:"#F3F4F6",className:"flex-1"})]}),s.total_value_bg_color&&e.jsx("p",{className:"text-sm text-red-500",children:s.total_value_bg_color})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Button Background Color"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(o,{type:"color",value:l.button_bg_color,onChange:t=>a("button_bg_color",t.target.value),className:"w-16 h-10 p-1 border rounded cursor-pointer"}),e.jsx(o,{type:"text",value:l.button_bg_color,onChange:t=>a("button_bg_color",t.target.value),placeholder:"#3B82F6",className:"flex-1"})]}),s.button_bg_color&&e.jsx("p",{className:"text-sm text-red-500",children:s.button_bg_color})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Button Text"}),e.jsx(o,{value:l.button_text,onChange:t=>a("button_text",t.target.value),placeholder:"Get Started"}),s.button_text&&e.jsx("p",{className:"text-sm text-red-500",children:s.button_text})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Button Link"}),e.jsx(o,{value:l.button_link,onChange:t=>a("button_link",t.target.value),placeholder:"https://example.com/signup"}),s.button_link&&e.jsx("p",{className:"text-sm text-red-500",children:s.button_link})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Description"}),e.jsx(h,{value:l.description,onChange:t=>a("description",t)}),s.description&&e.jsx("p",{className:"text-sm text-red-500",children:s.description})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Highlighted Text (HTML)"}),e.jsx(h,{value:l.highlighted_text,onChange:t=>a("highlighted_text",t)}),s.highlighted_text&&e.jsx("p",{className:"text-sm text-red-500",children:s.highlighted_text})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Feature Summary (small text)"}),e.jsx(C,{rows:3,value:l.features,onChange:t=>a("features",t.target.value),placeholder:"Brief feature description..."}),s.features&&e.jsx("p",{className:"text-sm text-red-500",children:s.features})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Order"}),e.jsx(o,{type:"number",value:l.order,onChange:t=>a("order",parseInt(t.target.value)||0),min:"0"}),s.order&&e.jsx("p",{className:"text-sm text-red-500",children:s.order})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{id:"is_customizable",checked:l.is_customizable,onCheckedChange:t=>{a("is_customizable",!!t),t&&(a("total_value",""),a("per_text",""))}}),e.jsx(i,{htmlFor:"is_customizable",children:"Customizable Plan"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{id:"is_best_value",checked:l.is_best_value,onCheckedChange:t=>a("is_best_value",!!t)}),e.jsx(i,{htmlFor:"is_best_value",children:"Best Value Plan"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Select Features"}),x.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No features available."}):e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:x.map(t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{id:`feat-${t.id}`,checked:l.feature_ids.includes(t.id),onCheckedChange:c=>p(t.id,!!c)}),e.jsxs(i,{htmlFor:`feat-${t.id}`,className:"cursor-pointer select-none flex-1",children:[t.name,l.is_customizable&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[" — $",t.price]})]})]},t.id))}),s.feature_ids&&e.jsx("p",{className:"text-sm text-red-500",children:s.feature_ids})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(m,{type:"submit",disabled:u,children:u?"Updating…":"Update Plan"}),e.jsx(m,{variant:"outline",asChild:!0,children:e.jsx("a",{href:route("admin.pricing-plans.index"),children:"Cancel"})})]})]})})})]})}export{S as default};
