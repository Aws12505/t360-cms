import{u as j,j as e,H as g}from"./app-DNV66ZY6.js";import{A as v}from"./app-layout-C6HjfMN0.js";import{B as m}from"./button-BuypCEcR.js";import{L as l,I as i}from"./label-Ce9Ql6OJ.js";import{T as _}from"./textarea-GoHo7AVv.js";import{C as c}from"./checkbox-CQmUahiq.js";import{Q as b}from"./QuillEditor-D0eWzYzs.js";/* empty css            */import"./index-DHKeGcLT.js";import"./index-dU3a4bsa.js";import"./index-DQx-QLRJ.js";import"./quill.snow-CJupi1OH.js";const N=[{title:"Pricing Plans",href:"/admin/pricing-plans"},{title:"Create",href:"/admin/pricing-plans/create"}];function I({allFeatures:n}){const o=Array.isArray(n)?n:[],{data:r,setData:t,post:u,processing:x,errors:a}=j({name:"",total_value:"",per_text:"",description:"",features:"",is_customizable:!1,is_best_value:!1,order:0,feature_ids:[]}),p=(s,d)=>{t("feature_ids",d?[...r.feature_ids,s]:r.feature_ids.filter(f=>f!==s))},h=s=>{s.preventDefault(),u(route("admin.pricing-plans.store"))};return e.jsxs(v,{breadcrumbs:N,children:[e.jsx(g,{title:"Create Pricing Plan"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:e.jsx("div",{className:"relative w-full max-w-4xl mx-auto overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border bg-background p-8",children:e.jsxs("form",{onSubmit:h,className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{children:"Plan Name"}),e.jsx(i,{value:r.name,onChange:s=>t("name",s.target.value)}),a.name&&e.jsx("p",{className:"text-sm text-red-500",children:a.name})]}),!r.is_customizable&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{children:"Total Value"}),e.jsx(i,{type:"number",step:"0.01",value:r.total_value,onChange:s=>t("total_value",s.target.value)}),a.total_value&&e.jsx("p",{className:"text-sm text-red-500",children:a.total_value})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{children:"Per Text"}),e.jsx(i,{value:r.per_text,onChange:s=>t("per_text",s.target.value),placeholder:"month / year / etc."}),a.per_text&&e.jsx("p",{className:"text-sm text-red-500",children:a.per_text})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{children:"Description"}),e.jsx(b,{value:r.description,onChange:s=>t("description",s)}),a.description&&e.jsx("p",{className:"text-sm text-red-500",children:a.description})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{children:"Feature Summary (small text)"}),e.jsx(_,{rows:3,value:r.features,onChange:s=>t("features",s.target.value),placeholder:"Brief feature description..."}),a.features&&e.jsx("p",{className:"text-sm text-red-500",children:a.features})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{children:"Order"}),e.jsx(i,{type:"number",value:r.order,onChange:s=>t("order",parseInt(s.target.value)||0),min:"0"}),a.order&&e.jsx("p",{className:"text-sm text-red-500",children:a.order})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{id:"is_customizable",checked:r.is_customizable,onCheckedChange:s=>{t("is_customizable",!!s),s&&(t("total_value",""),t("per_text",""))}}),e.jsx(l,{htmlFor:"is_customizable",children:"Customizable Plan"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{id:"is_best_value",checked:r.is_best_value,onCheckedChange:s=>t("is_best_value",!!s)}),e.jsx(l,{htmlFor:"is_best_value",children:"Best Value Plan"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{children:"Select Features"}),o.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No features available."}):e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:o.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{id:`feat-${s.id}`,checked:r.feature_ids.includes(s.id),onCheckedChange:d=>p(s.id,!!d)}),e.jsxs(l,{htmlFor:`feat-${s.id}`,className:"cursor-pointer select-none flex-1",children:[s.name,r.is_customizable&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[" — $",s.price]})]})]},s.id))}),a.feature_ids&&e.jsx("p",{className:"text-sm text-red-500",children:a.feature_ids})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(m,{type:"submit",disabled:x,children:x?"Creating…":"Create Plan"}),e.jsx(m,{variant:"outline",asChild:!0,children:e.jsx("a",{href:route("admin.pricing-plans.index"),children:"Cancel"})})]})]})})})]})}export{I as default};
