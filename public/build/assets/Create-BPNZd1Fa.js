import{u as j,j as e,H as f}from"./app-Cv_TJdRl.js";import{A as v}from"./app-layout-wJCBwcOB.js";import{B as u}from"./button-cmF2_xNb.js";import{L as r}from"./label-6O68qZpT.js";import{I as i}from"./input-BvA-PWrE.js";import{T as b}from"./textarea-C2YfMsti.js";import{C as c}from"./checkbox-Cp9MrZXW.js";import{Q as m}from"./QuillEditor-2BuGWFhP.js";/* empty css            */import"./index-DskBoEEt.js";import"./index-CtaEbchv.js";import"./index-EoPTGx2g.js";import"./quill.snow-C0_WX-U6.js";const N=[{title:"Pricing Plans",href:"/admin/pricing-plans"},{title:"Create",href:"/admin/pricing-plans/create"}];function D({allFeatures:n}){const d=Array.isArray(n)?n:[],{data:l,setData:a,post:h,processing:x,errors:s}=j({name:"",total_value:"",per_text:"",description:"",features:"",is_customizable:!1,is_best_value:!1,order:0,feature_ids:[],button_link:"",button_text:"",highlighted_text:"",button_bg_color:"#3B82F6",total_value_bg_color:"#F3F4F6"}),p=(t,o)=>{a("feature_ids",o?[...l.feature_ids,t]:l.feature_ids.filter(_=>_!==t))},g=t=>{t.preventDefault(),h(route("admin.pricing-plans.store"))};return e.jsxs(v,{breadcrumbs:N,children:[e.jsx(f,{title:"Create Pricing Plan"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:e.jsx("div",{className:"relative w-full max-w-4xl mx-auto overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border bg-background p-8",children:e.jsxs("form",{onSubmit:g,className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{children:"Plan Name"}),e.jsx(i,{value:l.name,onChange:t=>a("name",t.target.value)}),s.name&&e.jsx("p",{className:"text-sm text-red-500",children:s.name})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[!l.is_customizable&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{children:"Total Value"}),e.jsx(i,{type:"number",step:"0.01",value:l.total_value,onChange:t=>a("total_value",t.target.value)}),s.total_value&&e.jsx("p",{className:"text-sm text-red-500",children:s.total_value})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{children:"Per Text"}),e.jsx(i,{value:l.per_text,onChange:t=>a("per_text",t.target.value),placeholder:"month / year / etc."}),s.per_text&&e.jsx("p",{className:"text-sm text-red-500",children:s.per_text})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{children:"Total Value Background Color"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(i,{type:"color",value:l.total_value_bg_color,onChange:t=>a("total_value_bg_color",t.target.value),className:"w-16 h-10 p-1 border rounded cursor-pointer"}),e.jsx(i,{type:"text",value:l.total_value_bg_color,onChange:t=>a("total_value_bg_color",t.target.value),placeholder:"#F3F4F6",className:"flex-1"})]}),s.total_value_bg_color&&e.jsx("p",{className:"text-sm text-red-500",children:s.total_value_bg_color})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{children:"Button Background Color"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(i,{type:"color",value:l.button_bg_color,onChange:t=>a("button_bg_color",t.target.value),className:"w-16 h-10 p-1 border rounded cursor-pointer"}),e.jsx(i,{type:"text",value:l.button_bg_color,onChange:t=>a("button_bg_color",t.target.value),placeholder:"#3B82F6",className:"flex-1"})]}),s.button_bg_color&&e.jsx("p",{className:"text-sm text-red-500",children:s.button_bg_color})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{children:"Button Text"}),e.jsx(i,{value:l.button_text,onChange:t=>a("button_text",t.target.value),placeholder:"Get Started"}),s.button_text&&e.jsx("p",{className:"text-sm text-red-500",children:s.button_text})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{children:"Button Link"}),e.jsx(i,{value:l.button_link,onChange:t=>a("button_link",t.target.value),placeholder:"https://example.com/signup"}),s.button_link&&e.jsx("p",{className:"text-sm text-red-500",children:s.button_link})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{children:"Description"}),e.jsx(m,{value:l.description,onChange:t=>a("description",t)}),s.description&&e.jsx("p",{className:"text-sm text-red-500",children:s.description})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{children:"Highlighted Text (HTML)"}),e.jsx(m,{value:l.highlighted_text,onChange:t=>a("highlighted_text",t)}),s.highlighted_text&&e.jsx("p",{className:"text-sm text-red-500",children:s.highlighted_text})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{children:"Feature Summary (small text)"}),e.jsx(b,{rows:3,value:l.features,onChange:t=>a("features",t.target.value),placeholder:"Brief feature description..."}),s.features&&e.jsx("p",{className:"text-sm text-red-500",children:s.features})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{children:"Order"}),e.jsx(i,{type:"number",value:l.order,onChange:t=>a("order",parseInt(t.target.value)||0),min:"0"}),s.order&&e.jsx("p",{className:"text-sm text-red-500",children:s.order})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{id:"is_customizable",checked:l.is_customizable,onCheckedChange:t=>{a("is_customizable",!!t),t&&(a("total_value",""),a("per_text",""))}}),e.jsx(r,{htmlFor:"is_customizable",children:"Customizable Plan"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{id:"is_best_value",checked:l.is_best_value,onCheckedChange:t=>a("is_best_value",!!t)}),e.jsx(r,{htmlFor:"is_best_value",children:"Best Value Plan"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{children:"Select Features"}),d.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No features available."}):e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:d.map(t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{id:`feat-${t.id}`,checked:l.feature_ids.includes(t.id),onCheckedChange:o=>p(t.id,!!o)}),e.jsxs(r,{htmlFor:`feat-${t.id}`,className:"cursor-pointer select-none flex-1",children:[t.name,l.is_customizable&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[" — $",t.price]})]})]},t.id))}),s.feature_ids&&e.jsx("p",{className:"text-sm text-red-500",children:s.feature_ids})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(u,{type:"submit",disabled:x,children:x?"Creating…":"Create Plan"}),e.jsx(u,{variant:"outline",asChild:!0,children:e.jsx("a",{href:route("admin.pricing-plans.index"),children:"Cancel"})})]})]})})})]})}export{D as default};
