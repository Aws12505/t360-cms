import{u as v,j as e,H as g}from"./app-BfPec4dX.js";import{A as b}from"./app-layout-CNHM-x7o.js";import{B as u}from"./button-Bc1zHwz0.js";import{L as i,I as c}from"./label-B9D6h7Z-.js";import{T as N}from"./textarea-ClFWJd8N.js";import{C as o}from"./checkbox-DCgHHIxu.js";import{Q as C}from"./QuillEditor-CJYNeiRq.js";/* empty css            */import"./index-C10URHCF.js";import"./index-NZjdkDjn.js";import"./index-CzrVQrBw.js";const y=[{title:"Dashboard",href:"/dashboard"},{title:"Pricing Plans",href:"/admin/pricing-plans"},{title:"Edit",href:"#"}];function $({plan:r,allFeatures:n}){const x=Array.isArray(n)?n:[],h=Array.isArray(r.custom_features)?r.custom_features.map(s=>s.id):[],{data:a,setData:l,put:p,processing:m,errors:t}=v({name:r.name,total_value:r.total_value??"",per_text:r.per_text??"",description:r.description,features:r.features??"",is_customizable:r.is_customizable,is_best_value:r.is_best_value,feature_ids:h}),f=(s,d)=>{l("feature_ids",d?[...a.feature_ids,s]:a.feature_ids.filter(_=>_!==s))},j=s=>{s.preventDefault(),p(route("admin.pricing-plans.update",r.id))};return e.jsxs(b,{breadcrumbs:y,children:[e.jsx(g,{title:`Edit Plan: ${r.name}`}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:e.jsx("div",{className:"relative w-full max-w-4xl mx-auto overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border bg-background p-8",children:e.jsxs("form",{onSubmit:j,className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Plan Name"}),e.jsx(c,{value:a.name,onChange:s=>l("name",s.target.value)}),t.name&&e.jsx("p",{className:"text-sm text-red-500",children:t.name})]}),!a.is_customizable&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Total Value"}),e.jsx(c,{type:"number",step:"0.01",value:a.total_value,onChange:s=>l("total_value",s.target.value)}),t.total_value&&e.jsx("p",{className:"text-sm text-red-500",children:t.total_value})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Per Text"}),e.jsx(c,{value:a.per_text,onChange:s=>l("per_text",s.target.value),placeholder:"month / year / etc."}),t.per_text&&e.jsx("p",{className:"text-sm text-red-500",children:t.per_text})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Description"}),e.jsx(C,{value:a.description,onChange:s=>l("description",s)}),t.description&&e.jsx("p",{className:"text-sm text-red-500",children:t.description})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Feature Summary (small text)"}),e.jsx(N,{rows:3,value:a.features,onChange:s=>l("features",s.target.value),placeholder:"Brief feature description..."}),t.features&&e.jsx("p",{className:"text-sm text-red-500",children:t.features})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{id:"is_customizable",checked:a.is_customizable,onCheckedChange:s=>{l("is_customizable",!!s),s&&(l("total_value",""),l("per_text",""))}}),e.jsx(i,{htmlFor:"is_customizable",children:"Customizable Plan"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{id:"is_best_value",checked:a.is_best_value,onCheckedChange:s=>l("is_best_value",!!s)}),e.jsx(i,{htmlFor:"is_best_value",children:"Best Value Plan"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(i,{children:"Select Features"}),x.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No features available."}):e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:x.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{id:`feat-${s.id}`,checked:a.feature_ids.includes(s.id),onCheckedChange:d=>f(s.id,!!d)}),e.jsxs(i,{htmlFor:`feat-${s.id}`,className:"cursor-pointer select-none flex-1",children:[s.name,a.is_customizable&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[" — $",s.price]})]})]},s.id))}),t.feature_ids&&e.jsx("p",{className:"text-sm text-red-500",children:t.feature_ids})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(u,{type:"submit",disabled:m,children:m?"Updating…":"Update Plan"}),e.jsx(u,{variant:"outline",asChild:!0,children:e.jsx("a",{href:route("admin.pricing-plans.index"),children:"Cancel"})})]})]})})})]})}export{$ as default};
