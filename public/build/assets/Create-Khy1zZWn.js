import{u as j,j as e,H as g}from"./app-BfPec4dX.js";import{A as v}from"./app-layout-CNHM-x7o.js";import{B as m}from"./button-Bc1zHwz0.js";import{L as l,I as d}from"./label-B9D6h7Z-.js";import{T as _}from"./textarea-ClFWJd8N.js";import{C as c}from"./checkbox-DCgHHIxu.js";import{Q as b}from"./QuillEditor-CJYNeiRq.js";/* empty css            */import"./index-C10URHCF.js";import"./index-NZjdkDjn.js";import"./index-CzrVQrBw.js";const N=[{title:"Dashboard",href:"/dashboard"},{title:"Pricing Plans",href:"/admin/pricing-plans"},{title:"Create",href:"/admin/pricing-plans/create"}];function T({allFeatures:n}){const o=Array.isArray(n)?n:[],{data:a,setData:r,post:u,processing:x,errors:t}=j({name:"",total_value:"",per_text:"",description:"",features:"",is_customizable:!1,is_best_value:!1,feature_ids:[]}),p=(s,i)=>{r("feature_ids",i?[...a.feature_ids,s]:a.feature_ids.filter(f=>f!==s))},h=s=>{s.preventDefault(),u(route("admin.pricing-plans.store"))};return e.jsxs(v,{breadcrumbs:N,children:[e.jsx(g,{title:"Create Pricing Plan"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:e.jsx("div",{className:"relative w-full max-w-4xl mx-auto overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border bg-background p-8",children:e.jsxs("form",{onSubmit:h,className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{children:"Plan Name"}),e.jsx(d,{value:a.name,onChange:s=>r("name",s.target.value)}),t.name&&e.jsx("p",{className:"text-sm text-red-500",children:t.name})]}),!a.is_customizable&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{children:"Total Value"}),e.jsx(d,{type:"number",step:"0.01",value:a.total_value,onChange:s=>r("total_value",s.target.value)}),t.total_value&&e.jsx("p",{className:"text-sm text-red-500",children:t.total_value})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{children:"Per Text"}),e.jsx(d,{value:a.per_text,onChange:s=>r("per_text",s.target.value),placeholder:"month / year / etc."}),t.per_text&&e.jsx("p",{className:"text-sm text-red-500",children:t.per_text})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{children:"Description"}),e.jsx(b,{value:a.description,onChange:s=>r("description",s)}),t.description&&e.jsx("p",{className:"text-sm text-red-500",children:t.description})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{children:"Feature Summary (small text)"}),e.jsx(_,{rows:3,value:a.features,onChange:s=>r("features",s.target.value),placeholder:"Brief feature description..."}),t.features&&e.jsx("p",{className:"text-sm text-red-500",children:t.features})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{id:"is_customizable",checked:a.is_customizable,onCheckedChange:s=>{r("is_customizable",!!s),s&&(r("total_value",""),r("per_text",""))}}),e.jsx(l,{htmlFor:"is_customizable",children:"Customizable Plan"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{id:"is_best_value",checked:a.is_best_value,onCheckedChange:s=>r("is_best_value",!!s)}),e.jsx(l,{htmlFor:"is_best_value",children:"Best Value Plan"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(l,{children:"Select Features"}),o.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No features available."}):e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:o.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{id:`feat-${s.id}`,checked:a.feature_ids.includes(s.id),onCheckedChange:i=>p(s.id,!!i)}),e.jsxs(l,{htmlFor:`feat-${s.id}`,className:"cursor-pointer select-none flex-1",children:[s.name,a.is_customizable&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[" — $",s.price]})]})]},s.id))}),t.feature_ids&&e.jsx("p",{className:"text-sm text-red-500",children:t.feature_ids})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(m,{type:"submit",disabled:x,children:x?"Creating…":"Create Plan"}),e.jsx(m,{variant:"outline",asChild:!0,children:e.jsx("a",{href:route("admin.pricing-plans.index"),children:"Cancel"})})]})]})})})]})}export{T as default};
